<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Simple Deployed App</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; background-color: #f0f0f0; color: #333; }
        .container { text-align: center; padding: 20px; background-color: white; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        h1 { color: #0078D4; }
        p { font-size: 1.1em; }
        .version { font-size: 0.8em; color: #777; margin-top: 15px; }
        .status { font-weight: bold; padding: 5px 10px; border-radius: 4px; margin-top: 10px; display: inline-block; }
        .healthy { background-color: #d4edda; color: #155724; }
        .unhealthy { background-color: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to AutoRollback Test App!</h1>
        <p>This application was deployed successfully.</p>
        <p>Deployment Instance ID: <strong id="deployment-id">N/A (Set by deployment)</strong></p>
        
        <!-- Health Check Endpoint (conceptual) -->
        <!-- You would typically have a separate /health endpoint, but for simplicity, we'll simulate status here -->
        <div id="health-status-indicator" class="status healthy">STATUS: HEALTHY</div>

        <div class="version">Version: 1.0.0 - Main Branch</div>
    </div>

    <script>
        // Simple way to potentially reflect a deployment ID if passed via URL or other means (for demo)
        // For a real app, this would be baked in or dynamically fetched.
        const params = new URLSearchParams(window.location.search);
        const deploymentIdFromUrl = params.get('deploymentId');
        if (deploymentIdFromUrl) {
            document.getElementById('deployment-id').textContent = deploymentIdFromUrl;
        }

        // Simulate dynamic health status change for testing (e.g., if /health was this page)
        // In a real scenario, a /health endpoint would return JSON or simple 200 OK.
        // This is just for visual demo on the index page.
        // To test "unhealthy" state, you could manually change this in the deployed file or have a query param toggle it.
        // For example: index.html?status=unhealthy
        const healthParam = params.get('status');
        const healthIndicator = document.getElementById('health-status-indicator');
        if (healthParam === 'unhealthy') {
            healthIndicator.textContent = 'STATUS: UNHEALTHY';
            healthIndicator.classList.remove('healthy');
            healthIndicator.classList.add('unhealthy');
        }
    </script>
</body>
</html>
